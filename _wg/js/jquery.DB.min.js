/*********************************************************************************

    제작 : http://designblack.com
    라이센스 : 무한인라이센스, 엄우식(디자인웹굿)
    해당 주석은 저작권상 절대 삭제 불가입니다.

*********************************************************************************/



// jquery.d_fixedMenu.js (스크롤고정)
(function($) {
    $.fn.d_fixedMenu = function(options) {
        var settings = {
            top: 0
        };

        $.extend(settings, options);

        return this.each(function() {
            var $window = $(window);
            var $element = $(this);
            var scrollPosition;
            var elementOffsetTop = $element.offset().top - settings.top;
            var elementHeight = $element.height();

            initialize();

            function initialize() {
                $element.after('<div class="header_space"></div>');
                handleScroll();
            }

            function handleScroll() {
                $window.scroll(function() {
                    scrollPosition = $window.scrollTop();

                    if (scrollPosition >= elementOffsetTop) {
                        if (!$element.hasClass('fixed')) {
                            $element.next().css('height', elementHeight);
                            $element.addClass('fixed');
                        }
                    } else {
                        if ($element.hasClass('fixed')) {
                            $element.removeClass('fixed');
                            $element.next().css('height', 0);
                        }
                        elementOffsetTop = $element.offset().top - settings.top;
                    }
                });
            }
        });
    };
})(jQuery);


    $('#header').d_fixedMenu({
        top:-40,
    });

	$('.scroll_check').d_fixedMenu({
        top:0,
    });





// jquery.DB_slideUpDown.js
(function($) {
    $.fn.DB_slideUpDown = function(options) {
        var settings = {
            moveSpeed: 500,
            cookieName: null
        };
        $.extend(settings, options);

        return this.each(function() {
            var $this = $(this),
                $banner = $this.find('.DB_banner'),
                $button = $this.find('.DB_btn'),
                isVisible;

            // 쿠키 상태에 따라 배너 표시 여부 결정
            if (settings.cookieName) {
                if ($.cookie(settings.cookieName) === 'hide') {
                    $banner.hide();
                    isVisible = false;
                } else if ($.cookie(settings.cookieName) === 'show') {
                    $banner.show();
                    isVisible = true;
                } else {
                    isVisible = $banner.is(':visible');
                }
            } else {
                isVisible = $banner.is(':visible');
            }

            // 버튼이 있는 경우에만 이미지 설정 및 클릭 이벤트 바인딩
            if ($button.length) {
                if (isVisible) {
                    $button.attr('src', $button.attr('src').replace('_off', '_on'));
                } else {
                    $button.attr('src', $button.attr('src').replace('_on', '_off'));
                }

                $button.on('click', function() {
                    if (isVisible) {
                        $banner.stop(true, true).slideUp(settings.moveSpeed);
                        $button.attr('src', $button.attr('src').replace('_on', '_off'));
                        if (settings.cookieName) {
                            $.cookie(settings.cookieName, 'hide', { path: '/', expires: 1 });
                        }
                    } else {
                        $banner.stop(true, true).slideDown(settings.moveSpeed);
                        $button.attr('src', $button.attr('src').replace('_off', '_on'));
                        if (settings.cookieName) {
                            $.cookie(settings.cookieName, 'show', { path: '/', expires: 1 });
                        }
                    }
                    isVisible = !isVisible;
                });
            }
        });
    };
})(jQuery);
    
	
    // 추가구성상품
    // $('.productSet.additional').DB_slideUpDown({
    //     moveSpeed:300,
    //     cookieName:'productSet_additional'
    // });

    // $('.productSet.additional').each(function(index) {
    //     $(this).DB_slideUpDown({
    //         moveSpeed: 300,
    //         cookieName: 'productSet_additional_' + index
    //     });
    // });

	// 회원등급별 혜택안내
    $('.cp522').DB_slideUpDown({
        moveSpeed:300,              //이동속도(밀리초)
        cookieName:'cookie_cp522'
    });
